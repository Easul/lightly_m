layui.use(["jquery","layer","element","util"],function(){function changeButtonWord(t,o){t.css("color","black"),t.removeAttr("word-color"),o.css("color","#1E9FFF"),o.attr("word-color","1")}function playerInit(t,o){var c=$(window).width(),n=videojs("enjoyVideo",{controls:"true",width:""+c,autoplay:!0,sources:[{src:"https://aldirect.hls.huya.com/backsrc/30765679-2523417353-10837995005293887488-2847699118-10057-A-0-1_2500.m3u8?wsSecret="+t+"&wsTime="+o,type:"application/x-mpegURL"}],preload:"auto"});return n.height($("#enjoyVideo").height()),n}function getHuYaInfo(roomId,tvId,player){$.ajax({type:"GET",url:"/plugin/Entertainment/GetTvLink.php",data:"tvRoom="+roomId,dataType:"json",success:function(data){var result=eval(data);if("1"==result.status){switch(tvId){case 0:player.src("https://aldirect.hls.huya.com/backsrc/30765679-2523417493-10837995606589308928-2777071594-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time);break;case 1:player.src("https://js.hls.huya.com/huyalive/30765679-2523417093-10837993888602390528-2789274530-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time);break;case 2:player.src("https://aldirect.hls.huya.com/backsrc/94525224-2655537474-11405446604132450304-2704233350-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time);break;case 3:player.src("https://aldirect.hls.huya.com/huyalive/30765679-2497712118-10727591861632892928-3049003126-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time);break;case 4:player.src("https://tx.hls.huya.com/src/30765679-2550665260-10955023874743336960-2789253862-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time);break;case 5:player.src("https://aldirect.hls.huya.com/huyalive/29359996-2689640740-11551919016289239040-2847699140-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time);break;case 6:player.src("https://aldirect.hls.huya.com/backsrc/30765679-2523417353-10837995005293887488-2847699118-10057-A-0-1_2500.m3u8?wsSecret="+result.data.ws_secret+"&wsTime="+result.data.ws_time)}player.load()}}})}function changeTv(t){util.event("lay-active",{0:function(){getHuYaInfo("11336726",0,t),changeButtonWord($('[word-color="1"]'),$(this))},1:function(){getHuYaInfo("11342415",1,t),changeButtonWord($('[word-color="1"]'),$(this))},2:function(){getHuYaInfo("cxldb",2,t),changeButtonWord($('[word-color="1"]'),$(this))},3:function(){getHuYaInfo("11602074",3,t),changeButtonWord($('[word-color="1"]'),$(this))},4:function(){getHuYaInfo("11342395",4,t),changeButtonWord($('[word-color="1"]'),$(this))},5:function(){getHuYaInfo("11352948",5,t),changeButtonWord($('[word-color="1"]'),$(this))},6:function(){getHuYaInfo("11352944",6,t),changeButtonWord($('[word-color="1"]'),$(this))},cctv1:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv1hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv2:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv2hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv3:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv3hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv4:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv4hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv5:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv5phd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv6:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv6hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv7:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv7hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv8:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv8hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv9:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv9hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv10:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv10hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv11:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv11.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv12:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv12hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv13:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv13.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv14:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv14hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv15:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv15.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cctv17:function(){t.src("http://ivi.bupt.edu.cn/hls/cctv17hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cgtn:function(){t.src("http://ivi.bupt.edu.cn/hls/cgtnhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cgtndoc:function(){t.src("http://ivi.bupt.edu.cn/hls/cgtndochd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},chc:function(){t.src("http://ivi.bupt.edu.cn/hls/chchd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},hunan:function(){t.src("http://ivi.bupt.edu.cn/hls/hunanhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},zj:function(){t.src("http://ivi.bupt.edu.cn/hls/zjhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},js:function(){t.src("http://ivi.bupt.edu.cn/hls/jshd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},df:function(){t.src("http://ivi.bupt.edu.cn/hls/dfhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},ah:function(){t.src("http://ivi.bupt.edu.cn/hls/ahhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},hn:function(){t.src("http://ivi.bupt.edu.cn/hls/hntv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},sx:function(){t.src("http://ivi.bupt.edu.cn/hls/sxhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},hlj:function(){t.src("http://ivi.bupt.edu.cn/hls/hljhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},yn:function(){t.src("http://ivi.bupt.edu.cn/hls/yntv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},jx:function(){t.src("http://ivi.bupt.edu.cn/hls/jxtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},sz:function(){t.src("http://ivi.bupt.edu.cn/hls/szhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},gd:function(){t.src("http://ivi.bupt.edu.cn/hls/gdhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},sd:function(){t.src("http://ivi.bupt.edu.cn/hls/sdhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},hb:function(){t.src("http://ivi.bupt.edu.cn/hls/hbtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},dn:function(){t.src("http://ivi.bupt.edu.cn/hls/dnhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},sc:function(){t.src("http://ivi.bupt.edu.cn/hls/schd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},tj:function(){t.src("http://ivi.bupt.edu.cn/hls/tjtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},sx:function(){t.src("http://ivi.bupt.edu.cn/hls/sxtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},ln:function(){t.src("http://ivi.bupt.edu.cn/hls/lntv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},xj:function(){t.src("http://ivi.bupt.edu.cn/hls/xjtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},heb:function(){t.src("http://ivi.bupt.edu.cn/hls/hebhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},xz:function(){t.src("http://ivi.bupt.edu.cn/hls/xztv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},nm:function(){t.src("http://ivi.bupt.edu.cn/hls/nmtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},qh:function(){t.src("http://ivi.bupt.edu.cn/hls/qhtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},gx:function(){t.src("http://ivi.bupt.edu.cn/hls/gxhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},jl:function(){t.src("http://ivi.bupt.edu.cn/hls/jlhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cetv1:function(){t.src("http://ivi.bupt.edu.cn/hls/cetv1hd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},ly:function(){t.src("http://ivi.bupt.edu.cn/hls/lyhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},gz:function(){t.src("http://ivi.bupt.edu.cn/hls/gzhd.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},nx:function(){t.src("http://ivi.bupt.edu.cn/hls/nxtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},gs:function(){t.src("http://ivi.bupt.edu.cn/hls/gstv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cq:function(){t.src("http://ivi.bupt.edu.cn/hls/cqtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},bt:function(){t.src("http://ivi.bupt.edu.cn/hls/bttv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},yb:function(){t.src("http://ivi.bupt.edu.cn/hls/ybtv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},ss:function(){t.src("http://ivi.bupt.edu.cn/hls/sstv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cetv3:function(){t.src("http://ivi.bupt.edu.cn/hls/cetv3.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},cetv4:function(){t.src("http://ivi.bupt.edu.cn/hls/cetv4.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))},sde:function(){t.src("http://ivi.bupt.edu.cn/hls/sdetv.m3u8"),t.load(),changeButtonWord($('[word-color="1"]'),$(this))}})}var $=layui.$,layer=layui.layer,util=layui.util,user=layui.data("lightly").user,windowState=!0,loadTime=0;$.ajax({type:"GET",url:"/plugin/Entertainment/GetTvLink.php",data:"tvRoom=11352944",dataType:"json",success:function(data){var result=eval(data);if("1"==result.status){var player=playerInit(result.data.ws_secret,result.data.ws_time),videoHeight=$("#enjoyVideo").outerHeight()+50;$("#contentBox").css("margin-top",videoHeight+"px"),changeTv(player)}}}),$(window).width()>991&&windowState&&(windowState=!1,layer.msg("不支持PC或较大屏幕平板打开"),setTimeout(function(){$(location).attr("href","/main.html")},500)),$(window).resize(function(){$(window).width()>991&&windowState&&(windowState=!1,layer.msg("不支持PC或较大屏幕平板打开"),setTimeout(function(){$(location).attr("href","/main.html")},500))}),null==user&&(layer.msg("未登陆"),$(function(){setTimeout(function(){$(location).attr("href","/login.html")},300)}))});